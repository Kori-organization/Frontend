<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Kori — Boletim</title>
    <link rel="icon" href="../Assets/logo-top.svg" type="image/png">
    <link rel="stylesheet" href="CSS/bulletin-2.css">
</head>

<body>

    <!-- Top navigation bar -->
    <div class="topbar">
        <!-- Back button -->
        <a class="back" href="bulletin.html" title="Voltar">
            <img src="../Assets/left.svg" alt="Voltar" width="15px"> Voltar
        </a>

        <!-- Greeting icon (reloads page on click) -->
        <img src="../Assets/greeting-4.svg" alt="" width="40px" class="img-greeting" onclick="location.reload()">
    </div>

    <main>
        <!-- Page title -->
        <h1>Alunos do 1º Ano</h1>

        <!-- Search box -->
        <div class="search-box">
            <input type="text" placeholder="Pesquisar Aluno..." aria-label="Pesquisar Aluno">
            <button class="search-btn" title="Pesquisar" aria-label="Pesquisar">
                <img src="../Assets/icon-search.svg" width="17" alt="Pesquisar">
            </button>
        </div>

        <!-- Students table section -->
        <section class="table" aria-label="Lista de alunos">

            <!-- Table header -->
            <div class="header" role="row">
                <div>Matrícula <img src="../Assets/chevron.svg" alt="" width="10"></div>
                <div>Nome <img src="../Assets/chevron.svg" alt="" width="10"></div>
                <div>Email <img src="../Assets/chevron.svg" alt="" width="10"></div>
                <div>Admissão <img src="../Assets/chevron.svg" alt="" width="10"></div>
            </div>

            <!--
            State reference:
            - no-notes        -> Only "+" enabled
            - needs-recovery  -> Recovery enabled
            - complete        -> Highlighted row, all actions locked
            -->

            <!-- NO NOTES -->
            <div class="student-row" role="row" data-state="no-notes">
                <div class="matricula">1010</div>
                <div class="nome">Davi Arakaki</div>
                <div class="email">davi.arakaki@kori.com</div>
                <div class="admissao">11/01/2025</div>

                <div class="actions">
                    <button class="action-btn plus">
                        <img src="../Assets/plus.svg" width="18">
                    </button>

                    <div class="square-actions">
                        <img src="../Assets/recovery.svg" class="recovery disabled" width="42">
                        <img src="../Assets/greeting-4.svg" width="30" onclick="window.location='bulletin-3.html'" class="bulletin">
                    </div>
                </div>
            </div>

            <!-- COMPLETE (highlighted like screenshot) -->
            <div class="student-row complete" role="row" data-state="complete">
                <div class="matricula">1010</div>
                <div class="nome">Felipe Kogake</div>
                <div class="email">felipe.kogake@kori.com</div>
                <div class="admissao">11/01/2025</div>

                <div class="actions">
                    <button class="action-btn plus disabled">
                        <img src="../Assets/plus.svg" width="18">
                    </button>

                    <div class="square-actions">
                        <img src="../Assets/recovery.svg" class="recovery disabled" width="42">
                        <img src="../Assets/greeting-4.svg" width="30" onclick="window.location='bulletin-3.html'" class="bulletin">
                    </div>
                </div>
            </div>

            <!-- NEEDS RECOVERY -->
            <div class="student-row" role="row" data-state="needs-recovery">
                <div class="matricula">1010</div>
                <div class="nome">Gabriela Benfica Ricci</div>
                <div class="email">gabriela.ricci@kori.com</div>
                <div class="admissao">11/01/2025</div>

                <div class="actions">
                    <button class="action-btn plus disabled">
                        <img src="../Assets/plus.svg" width="18">
                    </button>

                    <div class="square-actions">
                        <img src="../Assets/recovery.svg" class="recovery active" width="42">
                        <img src="../Assets/greeting-4.svg" width="30" onclick="window.location='bulletin-3.html'" class="bulletin">
                    </div>
                </div>
            </div>

            <!-- NO NOTES -->
            <div class="student-row" role="row" data-state="no-notes">
                <div class="matricula">1010</div>
                <div class="nome">Igor Quinto</div>
                <div class="email">igor.quinto@kori.com</div>
                <div class="admissao">11/01/2025</div>

                <div class="actions">
                    <button class="action-btn plus">
                        <img src="../Assets/plus.svg" width="18">
                    </button>

                    <div class="square-actions">
                        <img src="../Assets/recovery.svg" class="recovery disabled" width="42">
                        <img src="../Assets/greeting-4.svg" width="30" onclick="window.location='bulletin-3.html'" class="bulletin">
                    </div>
                </div>
            </div>

            <!-- NO NOTES -->
            <div class="student-row" role="row" data-state="no-notes">
                <div class="matricula">1010</div>
                <div class="nome">Lucas Lima</div>
                <div class="email">lucas.lima@kori.com</div>
                <div class="admissao">11/01/2025</div>

                <div class="actions">
                    <button class="action-btn plus">
                        <img src="../Assets/plus.svg" width="18">
                    </button>

                    <div class="square-actions">
                        <img src="../Assets/recovery.svg" class="recovery disabled" width="42">
                        <img src="../Assets/greeting-4.svg" width="30" onclick="window.location='bulletin-3.html'" class="bulletin">
                    </div>
                </div>
            </div>

            <!-- NO NOTES -->
            <div class="student-row" role="row" data-state="no-notes">
                <div class="matricula">1010</div>
                <div class="nome">Maria Eduarda Rosa</div>
                <div class="email">madu.rosa@kori.com</div>
                <div class="admissao">11/01/2025</div>

                <div class="actions">
                    <button class="action-btn plus">
                        <img src="../Assets/plus.svg" width="18">
                    </button>

                    <div class="square-actions">
                        <img src="../Assets/recovery.svg" class="recovery disabled" width="42">
                        <img src="../Assets/greeting-4.svg" width="30" onclick="window.location='bulletin-3.html'" class="bulletin">
                    </div>
                </div>
            </div>

            <!-- Spacer at bottom -->
            <div style="height:26px"></div>
        </section>

    </main>

    <!-- Grade modal overlay -->
    <div id="gradeOverlay" class="overlay" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="gradeTitle">

            <!-- Modal header -->
            <div class="modal-top">
                <div class="student-info">
                    <h2 id="gradeTitle">Nome do Aluno</h2>
                    <p id="gradeEmail">email@exemplo.com</p>
                </div>

                <!-- Student metadata -->
                <div class="meta">
                    <div>Série: <strong id="gradeSerie">1º Ano</strong></div>
                    <div>Matrícula: <strong id="gradeMat">—</strong></div>
                </div>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="notes-col">

                    <!-- Grades inputs -->
                    <div class="notes-2">
                        <div class="field">
                            <div class="label">Digite a Nota 1</div>
                            <div class="note-row">
                                <input id="nota1" class="note-input" type="number" min="0" max="10" step="0.1"
                                    placeholder="—" />
                            </div>
                        </div>

                        <div class="field">
                            <div class="label">Digite a Nota 2</div>
                            <div class="note-row">
                                <input id="nota2" class="note-input" type="number" min="0" max="10" step="0.1"
                                    placeholder="—" />
                            </div>
                        </div>
                    </div>

                    <!-- Admin warning -->
                    <div id="saveHint" class="admin-note">
                        Atenção: somente um administrador poderá alterar as notas digitadas acima.
                    </div>
                </div>

                <!-- Average grade display -->
                <div class="average-box">
                    <div class="title">Média do aluno</div>
                    <div id="avgValue" class="value">—</div>
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button id="btnBack" class="btn ghost">Voltar</button>
                <button id="btnSaveNote" class="btn primary">Salvar nota</button>
            </div>
        </div>
    </div>

    <!-- Confirmation modal -->
    <div id="confirmOverlay" class="overlay" aria-hidden="true">
        <div class="confirm-content" role="dialog" aria-modal="true">

            <!-- Icon -->
            <div class="confirm-icon">
                <img src="../Assets/info-circle-3.svg" alt="Atenção">
            </div>

            <!-- Title -->
            <h2>Tem certeza que deseja<br>salvar a nota?</h2>

            <!-- Info pill -->
            <div class="confirm-pill">
                <span id="confirmStudent">Aluno</span>
                <span id="confirmAvg">Média: —</span>
            </div>

            <!-- Warning -->
            <p class="confirm-warning">
                Atenção: somente um administrador poderá<br>
                alterar essa informação.
            </p>

            <!-- Actions -->
            <div class="confirm-actions">
                <button id="confirmCancel" class="btn ghost">Voltar</button>
                <button id="confirmSend" class="btn primary">Salvar</button>
            </div>

        </div>
    </div>

    <!-- Toast notifications container -->
    <div class="toast-wrap" aria-live="polite" aria-atomic="true"></div>

    <!-- Recovery modal -->
    <div id="recoveryOverlay" class="overlay" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true">

            <!-- Header -->
            <div class="modal-top" style="background-color: #C0CF5B;">
                <div class="student-info">
                    <h2 id="recoveryTitle">Nome do Aluno</h2>
                    <p id="recoveryEmail">email@exemplo.com</p>
                </div>

                <div class="meta">
                    <div>Série: <strong id="recoverySerie">1º Ano</strong></div>
                    <div>Matrícula: <strong id="recoveryMat">—</strong></div>
                </div>
            </div>

            <!-- Body -->
            <div class="modal-body">
                <div class="notes-col">
                    <div class="notes-2">
                        <div class="field">
                            <div class="label">Nota 1</div>
                            <input id="recNota1" class="note-input" disabled placeholder="—">
                        </div>

                        <div class="field">
                            <div class="label">Nota 2</div>
                            <input id="recNota2" class="note-input" disabled placeholder="—">
                        </div>

                        <div class="field">
                            <div class="label">Média</div>
                            <input id="recMedia" class="note-input" disabled placeholder="—">
                        </div>
                    </div>

                    <div class="field" style="margin-left: 35px;">
                        <div class="label">Digite a nota de recuperação</div>
                        <input id="recInput" class="note-input" type="number" min="0" max="10" step="0.1"
                            placeholder="—">
                    </div>
                </div>

                <div class="average-box">
                    <div class="title" style="font-size: 14px;">Média final do aluno</div>
                    <div id="recFinal" class="value">—</div>
                </div>
            </div>

            <!-- Footer -->
            <div class="modal-footer" style="margin-top: -30px;">
                <button id="recBack" class="btn ghost">Voltar</button>
                <button id="recToConfirm" class="btn primary">Salvar nota</button>
            </div>
        </div>
    </div>

    <!-- Recovery Confirmation modal -->
    <div id="confirmRecoveryOverlay" class="overlay" aria-hidden="true">
        <div class="confirm-content" role="dialog" aria-modal="true">
            <div class="confirm-icon">
                <img src="../Assets/info-circle-3.svg" alt="Atenção">
            </div>

            <h2>Salvar nota de recuperação?</h2>

            <div class="confirm-pill">
                <span id="confirmRecoveryStudent">Aluno</span>
                <span id="confirmRecoveryAvg">Média final: —</span>
            </div>

            <p class="confirm-warning">
                Atenção: somente um administrador poderá alterar essa informação.
            </p>

            <div class="confirm-actions">
                <button id="confirmRecoveryCancel" class="btn ghost">Voltar</button>
                <button id="confirmRecoverySend" class="btn primary">Salvar</button>
            </div>
        </div>
    </div>
</body>

<!-- Main JavaScript file -->
<script src="JS/bulletin-2.js"></script>

</html>